# GitHub Secrets Configuration Guide

This document lists all the secrets and environment variables that need to be configured in your GitHub repository and deployment platforms.

## üìã Required GitHub Secrets

Configure these secrets in your GitHub repository settings: `Settings ‚Üí Secrets and variables ‚Üí Actions ‚Üí New repository secret`

### üîê Database Secrets

| Secret Name | Description | Example/How to Generate |
|------------|-------------|------------------------|
| `POSTGRES_SERVER` | PostgreSQL server hostname | `localhost` or `your-db.render.com` |
| `POSTGRES_PORT` | PostgreSQL server port | `5432` |
| `POSTGRES_USER` | PostgreSQL username | `btec_user` |
| `POSTGRES_PASSWORD` | PostgreSQL password | Generate secure password |
| `POSTGRES_DB` | PostgreSQL database name | `btec_db` |

### üîí Security Secrets

| Secret Name | Description | How to Generate |
|------------|-------------|-----------------|
| `SECRET_KEY` | Application secret key for JWT signing | `python -c "import secrets; print(secrets.token_urlsafe(32))"` |

### üöÄ Deployment Secrets (Render)

| Secret Name | Description | Where to Find |
|------------|-------------|---------------|
| `RENDER_API_KEY` | Render API key for deployments | Render Dashboard ‚Üí Account Settings ‚Üí API Keys |
| `RENDER_SERVICE_ID` | Render service ID for your backend | Render Dashboard ‚Üí Your Service ‚Üí Settings ‚Üí Service ID |

### üë§ Admin Account Secrets

| Secret Name | Description | Example |
|------------|-------------|---------|
| `FIRST_SUPERUSER` | Initial admin email | `admin@example.com` |
| `FIRST_SUPERUSER_PASSWORD` | Initial admin password | Secure password (min 8 chars) |

### üìß Email Secrets (Optional)

| Secret Name | Description | Example |
|------------|-------------|---------|
| `SMTP_HOST` | SMTP server hostname | `smtp.gmail.com` |
| `SMTP_PORT` | SMTP server port | `587` |
| `SMTP_USER` | SMTP username | `your-email@gmail.com` |
| `SMTP_PASSWORD` | SMTP password or app-specific password | Generate app-specific password |
| `EMAILS_FROM_EMAIL` | Sender email address | `noreply@btec-platform.com` |

### üê≥ Docker Secrets (Optional)

| Secret Name | Description | Where to Find |
|------------|-------------|---------------|
| `DOCKER_USERNAME` | Docker Hub username | Your Docker Hub account |
| `DOCKER_PASSWORD` | Docker Hub access token | Docker Hub ‚Üí Account Settings ‚Üí Security ‚Üí New Access Token |

### üìä Monitoring Secrets (Optional)

| Secret Name | Description | Where to Find |
|------------|-------------|---------------|
| `SENTRY_DSN` | Sentry error tracking DSN | Sentry.io ‚Üí Project Settings ‚Üí Client Keys (DSN) |

---

## üéØ Render.com Configuration

After deploying to Render, configure these environment variables in Render Dashboard:

### Required Variables

1. **SECRET_KEY**
   - Generate: `python -c "import secrets; print(secrets.token_urlsafe(32))"`
   - Add in Render Dashboard ‚Üí Environment

2. **FIRST_SUPERUSER** & **FIRST_SUPERUSER_PASSWORD**
   - Set your admin credentials
   - Add in Render Dashboard ‚Üí Environment

3. **CORS Configuration**
   - `BACKEND_CORS_ORIGINS`: Your frontend URL(s)
   - `FRONTEND_HOST`: Your primary frontend URL

### Optional Variables

- Email configuration (SMTP_*)
- Sentry DSN for error tracking
- Any custom application settings

---

## üîß How to Generate Secrets

### Generate SECRET_KEY (Python)

```bash
python -c "import secrets; print(secrets.token_urlsafe(32))"
```

### Generate SECRET_KEY (OpenSSL)

```bash
openssl rand -hex 32
```

### Generate Secure Password

```bash
python -c "import secrets; import string; chars = string.ascii_letters + string.digits + string.punctuation; print(''.join(secrets.choice(chars) for _ in range(16)))"
```

---

## ‚úÖ Verification Checklist

Before deploying, ensure you have configured:

- [ ] All database connection secrets (POSTGRES_*)
- [ ] SECRET_KEY for JWT signing
- [ ] FIRST_SUPERUSER credentials
- [ ] RENDER_API_KEY and RENDER_SERVICE_ID (for CI/CD)
- [ ] BACKEND_CORS_ORIGINS with your frontend URL
- [ ] Email settings (if using email features)
- [ ] All secrets are properly set in GitHub repository settings
- [ ] All environment variables are set in Render dashboard

---

## üö® Security Best Practices

1. **Never commit secrets to git**: Always use environment variables or secret management
2. **Rotate secrets regularly**: Change passwords and keys periodically
3. **Use different secrets for different environments**: Don't reuse production secrets in development
4. **Limit secret access**: Only grant access to people who need it
5. **Use strong passwords**: Minimum 12 characters with mixed case, numbers, and symbols
6. **Monitor secret usage**: Check Render logs and GitHub Actions logs for any unauthorized access

---

## üìö Additional Resources

- [GitHub Secrets Documentation](https://docs.github.com/en/actions/security-guides/encrypted-secrets)
- [Render Environment Variables](https://render.com/docs/environment-variables)
- [FastAPI Security Best Practices](https://fastapi.tiangolo.com/tutorial/security/)
- [Python Secrets Module](https://docs.python.org/3/library/secrets.html)
